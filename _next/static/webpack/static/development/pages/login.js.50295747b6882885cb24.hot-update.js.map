{"version":3,"file":"static/webpack/static\\development\\pages\\login.js.50295747b6882885cb24.hot-update.js","sources":["webpack:///./pages/login/index.js"],"sourcesContent":["import React,{Component,Fragment} from 'react';\r\nimport Link from 'next/link';\r\nimport {Input,Button} from 'antd';\r\nimport './index.less'\r\nimport WithDva from '../../utils/store';\r\n\r\nclass Login extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state ={\r\n            userName:'张三',\r\n            password:'123456',\r\n        }\r\n    }\r\n    inputName = event=>{\r\n        const info = event.target.value;\r\n        this.setState({userName:info});\r\n    }\r\n    inputPwd = event=>{\r\n        const info = event.target.value;\r\n        this.setState({password:info});\r\n    }\r\n    submit =()=>{ \r\n        this.props.dispatch({type:\"user/userLogin\",payload:{\r\n            name:this.state.userName,password:this.state.password\r\n        }})\r\n    }\r\n\r\n    // static async getInitialProps(props) {\r\n    //     // first time run in server side\r\n    //     // other times run in client side ( client side init with default props\r\n    //     // console.log('get init props');\r\n    //     const {\r\n    //       pathname, query, isServer, store,\r\n    //     } = props;\r\n    //     // dispatch effects to fetch data here\r\n    //     return {\r\n    //       // dont use store as property name, it will confilct with initial store\r\n    //       pathname, query, isServer, dvaStore: store,\r\n    //     };\r\n    //   }\r\n    render(){\r\n        const {user}  = this.props;\r\n        const {userInfo} = user;\r\n\r\n        return <Fragment>\r\n            <label>姓名：</label>\r\n            <Input onChange={this.inputName}></Input>\r\n            <label>密码：</label>\r\n            <Input type=\"password\" onChange={this.inputPwd}></Input>\r\n            <Button onClick={this.submit}>提交</Button>\r\n\r\n            <p>{userInfo&&userInfo.name? userInfo.name:'' }</p>\r\n            <p>{userInfo&&userInfo.age? userInfo.age:'' }</p>\r\n\r\n             <div>\r\n            <Link href=\"/about\">\r\n                <a>点我跳转About页面</a>\r\n            </Link>\r\n        </div>\r\n        </Fragment>\r\n    }\r\n}\r\n\r\nexport default WithDva(\r\n    (state)=>{\r\n        return {\r\n            user:state.user\r\n        };\r\n    }\r\n)(Login);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAXA;AAYA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAfA;AAgBA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAGA;AACA;AAlBA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AAEA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAMA;AAAA;AAKA;;;;AAvDA;AACA;AAyDA;AAEA;AACA;AADA;AAGA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}